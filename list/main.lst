C51 COMPILER V9.53.0.0   MAIN                                                              09/20/2016 14:39:31 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\out\main.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE src\main.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(.\inc) DEBUG OBJECTEXTE
                    -ND PRINT(.\list\main.lst) OBJECT(.\out\main.obj)

line level    source

   1          
   2          #include "includes.h"
   3          
   4          
   5          // sbit LED7 = P2^7;
   6          extern void LED_GO(void);
   7          
   8          
   9          //系统资源初始化函数
  10          void SystemInit(void)
  11          {
  12   1              
  13   1              //串口接收缓冲区初始化
  14   1              MsgInit(&recMessage);
  15   1              
  16   1      #ifdef EN_OS_INT1
  17   1              IT1 = 1;        //外部中断为边沿触发
  18   1              EX1 = 1;        //允许外部中断
  19   1      #endif  
  20   1              
  21   1              
  22   1      #ifdef UART_IN_USE
  23   1              UART_Init(9600,Fosc_1T);                //串口初始化
  24   1      #else
                      UART_Init();
              #endif
  27   1              
  28   1              Timer0Init();           //定时器0初始化
  29   1              
  30   1      #ifndef UART_USE_TIMER1
  31   1              Timer1Init();           //定时器1初始化
  32   1      #endif
  33   1      
  34   1              DS1302_Init();          //实时时钟初始化
  35   1              
  36   1              
  37   1              
  38   1      //      WDT_Init();                     //看门狗初始化
  39   1              
  40   1              OEA = OEB = OEC = 1;            //595不输出
  41   1      //      OEA = OEB = OEC = 0;
  42   1              STRA = STRB = STRC = 0;
  43   1      
  44   1              EA = 1;                 //全局中断允许
  45   1      }
  46          
  47          void main(void)
  48          {
  49   1      //      unsigned int temp = 0;
  50   1              
  51   1              SystemInit();
  52   1              
  53   1              LED33 = 0;              //最外圈一直亮
  54   1      //      LED7 = 0;
C51 COMPILER V9.53.0.0   MAIN                                                              09/20/2016 14:39:31 PAGE 2   

  55   1              while(1)
  56   1              {
  57   2                      if(new_code)
  58   2                      {
  59   3                              new_code = 0;   //新按键标志清零
  60   3                              LED33 = !LED33;
  61   3                              UART_SendByte(key_code);
  62   3      //                      printf("键值为%x\n",(int)key);
  63   3                      }
  64   2      //              if(T_Count0 == 50)
  65   2      //              {
  66   2      //                      T_Count0 = 0;
  67   2      //                      
  68   2      // //                   LED7 = !LED7;
  69   2      //              }
  70   2                      
  71   2      //              LED_GO();
  72   2                      
  73   2      //              temp = DS18B20_ReadTemp();
  74   2      //              printf("temp = %.1f\r",temp * 0.1);
  75   2      //              delayNms(1000);
  76   2              
  77   2      //              WDT_Feed();                             //喂狗
  78   2      //              LED_Test(500);                  //流水灯测试程序
  79   2      
  80   2              }
  81   1              
  82   1      }
  83          
  84          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     68    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
